
# 要件定義書 (SRS) — Executive Console  
**zk‑CertFramework / 責任者システム** 最終更新: 2025-06-16

---

## 1. 目的
Executive Console は教授・研究責任者向けに、①ZKP 回路（Halo 2）のバージョン管理と Verifying‑Key (VK) 公開、②Ledger サイン済み YearNFT のミント管理を行う。これにより発行者・証明者・検証者サブシステムが共通で信頼する暗号パラメータを権限統制下で提供する。IEEE 830 に基づき、本書では **“達成すべき要求 (What)”** のみ定義し、技術的実装は含まない。

## 2. スコープ
| 区分 | 含む | 含まない |
|------|------|----------|
| ZKP 回路管理 | 回路ファイル登録・VK ハッシュ計算 | 回路のソースコード編集 |
| YearNFT ミント | Ledger 署名取得・NFT 発行 | Student Passkey 登録 |
| ダッシュボード | ガス見積・履歴表示 | ガス自動最適化 |

## 3. 用語
| 用語 | 定義 |
|------|------|
| **VK** | Verifying‑Key。回路の公開検証鍵 |
| **YearNFT** | 学年単位で発行される改竄検知トークン |
| **Ledger 署名** | EIP‑191 改良版個人メッセージ署名 |

## 4. 利害関係者
| ステークホルダ | 目的 |
|----------------|------|
| 教授 | 回路更新・承認 |
| 研究助手 | ミント作業代行 |
| 学務 IT | システム運用 |

## 5. ユースケース概要
| UC ID | 名称 | 主アクター |
|-------|------|-----------|
| UC‑PC‑01 | 新回路登録 | 教授 |
| UC‑PC‑02 | YearNFT ミント | 研究助手 |
| UC‑PC‑03 | VK 失効 | 教授 |

## 6. 機能要求
| ID | 要求 |
|----|------|
| FR‑PC‑01 | 回路ファイルをアップロードできること |
| FR‑PC‑02 | VK ハッシュ (SHA‑3‑512) を計算し表示  |
| FR‑PC‑03 | Ledger Nano X と WebHID で署名を取得できること  |
| FR‑PC‑04 | 学年・年度パラメータ入力で YearNFT をミントできること |

## 7. 非機能要求
| NFR ID | 指標 | 目標 |
|--------|------|------|
| NFR‑PC‑P1 | 操作完了時間 | ミント手続き 30 s 以内 |
| NFR‑PC‑S1 | 署名保持 | 署名はブラウザメモリのみ保持 |
| NFR‑PC‑R1 | 監査ログ | 7 年間保存 |

## 8. 受入基準
- FR‑PC‑01〜04 を満たす UI テストが Cypress で PASS  
- コントラクトイベント `YearMinted(year,tokenId)` が発火し Etherscan で確認 

## 9. 制約
- 対応ブラウザ Chrome 111+ (WebHID)  
- zkEVM Amoy テストネット利用

## 10. リスク
| リスク | 対策 |
|--------|------|
| Ledger 供給停止 | HSM モジュール互換レイヤ実装 |
| 量子攻撃 | SHA‑3‑512 採用で 256 bit 安全域  |
