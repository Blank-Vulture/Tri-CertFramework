
# ソフトウェア要件定義書 (SRS) — ZKP 付き卒業証書システム
**版 1.0  最終更新: 2025‑06‑17**

---

## 1. 目的
本書では、学生本人のみがゼロ知識証明付き卒業証書 PDF を生成し、受領者がブロックチェーン上の NFT と PDF だけで真正性を検証できるシステムのビジネス上の要求を明確化する。システムはバックエンドレス構成と量子計算機耐性を両立する。

## 2. スコープ
| 項目 | 含まれる | 含まれない |
|------|----------|------------|
| PDF/A‑3 出力 | 学務システム | 学務 DB 内部実装 |
| ZKP 生成 | ブラウザ WASM | サーバサイド Prover |
| YearNFT 発行 | 学年ごと ERC‑721 | 個人別 NFT |
| 検証 UI | オフライン動作 | ネイティブモバイルアプリ |

## 3. 用語
- **Passkey**: WebAuthn/FIDO2 公開鍵資格情報  
- **Commit**: Poseidon256 ハッシュ値 (32 B)  
- **YearNFT**: 1 学年 1 枚の ERC‑721  
- **Proof**: Halo 2 で生成される ZKP バイト列  

## 4. 利害関係者
学生／大学／企業／学務 IT 室／セキュリティ監査チーム

## 5. ユースケース
1. Passkey 登録  
2. YearNFT ミント  
3. ZKP 生成  
4. ZKP 検証  

## 6. 機能要求
| ID | 要求 |
|----|------|
| FR‑01 | PDF に最大 1 MB で証明添付 |
| FR‑02 | ZKP により学生本人のみ証明生成 |
| FR‑03 | 有効期限切れの場合検証失敗 |
| FR‑04 | 改竄された PDF／VK を検出 |

## 7. 非機能要求
| 区分 | 指標 |
|------|------|
| 性能 | Proof 生成 ≤ 5 s、検証 ≤ 0.2 s |
| 可用性 | 静的サイト 99.9 % |
| セキュリティ | salt 128 bit、SHA‑3‑512 |

## 8. 受入基準
- 10 件の E2E テストに合格  
- コントラクト監査で Critical 0 件  

## 9. 制約
Chrome / Edge 最新 2 バージョン、Polygon zkEVM Amoy

## 10. リスク
Passkey 紛失、量子計算機脅威、Ledger サプライチェーン
