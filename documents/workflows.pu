@startuml certificate-workflow
actor Student
participant "Browser\n(ZKP Prover)" as B
database "KIC On-chain\nNFT (year)" as NFT
Student -> B : 1. PDF + dest + expire\n+ Passkey signature
B -> NFT : 2. read merkleRoot
B -> B : 3. Halo2 wasm proof\n (ES256 + Merkle inclusion)
B -> Student : 4. PDF+A3(proof.zkp)
Student -> Employer : 5. Submit PDF
Employer -> B : 6. Drop PDF to Verifier UI
B -> NFT : 7. fetch merkleRoot, vkHash
B -> Employer : 8. Verify result (OK/NG/Expired)
@enduml